<i class="fa-solid fa-check"></i> CEKLIS
<i class="fa-solid fa-eye"></i> MATA

        #pembungkusPassword-popup .fa-eye,
        #pembungkusConfirmPassword-popup .fa-eye {
            position: absolute;
            display: block;
            right: 5%;
            top: 50%;
            transform: translateY(-50%);
            cursor: pointer;
            color: gray;
        }

<i class="fa-solid fa-house"></i> HOME

LOGOUT
<i class="fa-solid fa-right-from-bracket"></i>
<i class="fa-solid fa-arrow-right-from-bracket"></i>



CONTOH REFERENSI "LAPORAN BULANAN"

<!doctype html>
<html lang="id">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Laporan Bulanan - Demo</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<style>
  :root{--bg:#f7f9fc;--card:#fff;--accent:#5ca3ff;--muted:#777}
  *{box-sizing:border-box}
  body{font-family:system-ui,Roboto,-apple-system,Segoe UI,Arial; margin:0; background:var(--bg); color:#111}
  .container{max-width:1100px;margin:28px auto;padding:16px;}

/* header */
.header{
  display:flex;gap:12px;align-items:center;justify-content:space-between;margin-bottom:18px;
}
.header .left h1{margin:0;font-size:1.3rem}
.header .left p{margin:2px 0 0;color:var(--muted);font-size:0.95rem}

/* controls */
.controls{display:flex;gap:10px;align-items:center}
input[type="month"]{padding:8px;border-radius:8px;border:1px solid #e6e6e6;background:#fff}
.btn{display:inline-flex;align-items:center;gap:8px;padding:9px 12px;border-radius:10px;border:1px solid #e6e6e6;background:#fff;cursor:pointer}
.btn.primary{background:var(--accent);color:#fff;border-color:var(--accent)}

/* stats */
.stats{display:grid;grid-template-columns:repeat(3,1fr);gap:14px;margin:18px 0}
.card{background:var(--card);padding:14px;border-radius:12px;border:1px solid #eee;box-shadow:0 6px 18px rgba(30,50,90,0.04)}
.card .title{font-size:0.9rem;color:var(--muted);display:flex;justify-content:space-between;align-items:center}
.card .value{font-size:1.6rem;font-weight:700;margin-top:8px}

/* layout panels */
.panels{display:grid;grid-template-columns:2fr 1fr;gap:14px}
.panel{background:var(--card);border-radius:12px;border:1px solid #eee;padding:12px}
.panel h2{margin:0 0 6px;font-size:1.05rem}
.table{width:100%;border-collapse:collapse;font-size:.95rem}
.table th,.table td{padding:10px 8px;border-bottom:1px solid #f3f3f3;text-align:left}
.table th{font-weight:700;color:var(--muted);background:#fafafa}
.table tr:hover{background:#fcfdff}

/* small */
.pill{display:inline-flex;align-items:center;gap:6px;padding:6px 10px;border-radius:999px;border:1px solid #eee;font-size:0.85rem}
.pill.ok{background:#f4fbf4;border-color:#bfe6bf;color:#2e7d32}
.pill.warn{background:#fff8e8;border-color:#ffe0a6;color:#8a5a00}

/* chart */
.chart-wrap{height:180px;padding:8px}
.chart{width:100%;height:100%;display:block}

/* responsive */
@media (max-width:900px){
  .panels{grid-template-columns:1fr; }
  .stats{grid-template-columns:repeat(2,1fr)}
}
@media (max-width:560px){
  .stats{grid-template-columns:1fr}
  .controls{flex-direction:column;align-items:flex-start}
}
</style>
</head>
<body>

<div class="container">
  <div class="header">
    <div class="left">
      <h1>Laporan Bulanan</h1>
      <p>Ringkasan transaksi pulsa & pelanggan per bulan.</p>
    </div>

    <div class="controls">
      <label>
        <span style="display:block;font-size:.85rem;color:var(--muted);margin-bottom:6px;text-align:right">Pilih Bulan</span>
        <input id="monthPicker" type="month" />
      </label>
      <button id="btnExport" class="btn"><i class="fa-solid fa-file-csv"></i>Export CSV</button>
      <button id="btnRefresh" class="btn"><i class="fa-solid fa-rotate"></i> Refresh</button>
    </div>
  </div>

  <div class="stats" aria-hidden="false">
    <div class="card">
      <div class="title">
        <span>Total Transaksi</span>
        <i class="fa-solid fa-receipt"></i>
      </div>
      <div id="totalTx" class="value">0</div>
      <div style="color:var(--muted);font-size:.9rem;margin-top:6px">Jumlah transaksi di bulan</div>
    </div>

    <div class="card">
      <div class="title">
        <span>Total Nominal</span>
        <i class="fa-solid fa-wallet"></i>
      </div>
      <div id="totalNominal" class="value">Rp 0</div>
      <div style="color:var(--muted);font-size:.9rem;margin-top:6px">Jumlah uang transaksi</div>
    </div>

    <div class="card">
      <div class="title">
        <span>Transaksi Sukses</span>
        <i class="fa-solid fa-check"></i>
      </div>
      <div id="totalSuccess" class="value">0</div>
      <div style="color:var(--muted);font-size:.9rem;margin-top:6px">Sukses / Total</div>
    </div>
  </div>

  <div class="panels">
    <!-- left: table + chart -->
    <div class="panel">
      <h2>Transaksi Bulanan</h2>
      <div style="margin-bottom:10px;color:var(--muted);font-size:.95rem">
        Daftar transaksi yang terjadi pada bulan terpilih.
      </div>

      <div style="margin-bottom:12px" class="chart-wrap">
        <svg id="chart" class="chart" viewBox="0 0 800 180" preserveAspectRatio="none"></svg>
      </div>

      <div style="overflow:auto;max-height:280px">
        <table class="table" id="txTable" aria-live="polite">
          <thead>
            <tr><th>Tanggal</th><th>Pelanggan</th><th>No. HP</th><th>Nominal</th><th>Status</th></tr>
          </thead>
          <tbody>
            <!-- rows inserted by JS -->
          </tbody>
        </table>
      </div>
    </div>

    <!-- right: summary / quick filters -->
    <div class="panel">
      <h2>Ringkasan Cepat</h2>
      <div style="display:flex;flex-direction:column;gap:10px;margin-top:8px">

        <div>
          <strong>Filter status</strong>
          <div style="display:flex;gap:8px;margin-top:8px">
            <button class="btn" onclick="setStatusFilter('all')">Semua</button>
            <button class="btn" onclick="setStatusFilter('sukses')">Sukses</button>
            <button class="btn" onclick="setStatusFilter('pending')">Pending</button>
          </div>
        </div>

        <div>
          <strong>Ringkasan</strong>
          <div style="margin-top:8px;color:var(--muted)">
            <div>Jumlah pelanggan terdaftar: <strong id="countPelanggan">0</strong></div>
            <div>Transaksi tertinggi (hari): <strong id="topDay">-</strong></div>
          </div>
        </div>

        <div>
          <strong>Petunjuk</strong>
          <ul style="padding-left:18px;margin:8px 0;color:var(--muted)">
            <li>Pilih bulan untuk melihat data spesifik.</li>
            <li>Gunakan Export CSV untuk mendownload data tabel.</li>
            <li>Grafik menampilkan total nominal per tanggal.</li>
          </ul>
        </div>

      </div>
    </div>
  </div>
</div>

<script>
/* ----- contoh data dummy ----- 
   format: {id, datetime: 'YYYY-MM-DD HH:mm', name, phone, amount (number), status}
*/
const sampleData = [
  {id:1, datetime:'2025-08-01 09:10', name:'Faishal', phone:'081234567890', amount:25000, status:'sukses'},
  {id:2, datetime:'2025-08-02 11:21', name:'Rani', phone:'085277882211', amount:50000, status:'sukses'},
  {id:3, datetime:'2025-08-02 15:05', name:'Bima', phone:'081944556677', amount:100000, status:'pending'},
  {id:4, datetime:'2025-08-05 18:30', name:'Naila', phone:'088299001122', amount:20000, status:'sukses'},
  {id:5, datetime:'2025-07-31 20:00', name:'Adit', phone:'081320014455', amount:20000, status:'sukses'},
  {id:6, datetime:'2025-08-10 08:12', name:'Sinta', phone:'087799887766', amount:100000, status:'pending'},
  {id:7, datetime:'2025-08-12 12:00', name:'Dewi', phone:'082233445566', amount:50000, status:'sukses'},
  {id:8, datetime:'2025-08-12 14:44', name:'Tono', phone:'083312345678', amount:25000, status:'sukses'},
  {id:9, datetime:'2025-08-20 09:10', name:'Rizal', phone:'081398765432', amount:75000, status:'sukses'},
  {id:10, datetime:'2025-09-01 10:00', name:'Umi', phone:'082299991111', amount:50000, status:'sukses'}
];

let statusFilter = 'all';

function yyyyMM(dateStr){
  return dateStr.slice(0,7); // 'YYYY-MM'
}

function formatRupiah(n){
  return 'Rp ' + n.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ".");
}

function renderForMonth(monthStr){
  // monthStr example: '2025-08'
  const rows = sampleData.filter(s => yyyyMM(s.datetime) === monthStr);
  const filtered = rows.filter(r => (statusFilter==='all' ? true : r.status === statusFilter));

  // totals
  const totalTx = filtered.length;
  const totalNominal = filtered.reduce((s,r)=>s+r.amount,0);
  const totalSuccess = filtered.filter(r=>r.status==='sukses').length;
  document.getElementById('totalTx').textContent = totalTx;
  document.getElementById('totalNominal').textContent = formatRupiah(totalNominal);
  document.getElementById('totalSuccess').textContent = totalSuccess + ' / ' + (filtered.length || 0);

  // table
  const tbody = document.querySelector('#txTable tbody');
  tbody.innerHTML = '';
  filtered.sort((a,b)=> new Date(b.datetime) - new Date(a.datetime));
  filtered.forEach(r=>{
    const tr = document.createElement('tr');
    tr.innerHTML = '<td>'+r.datetime+'</td>'
                 + '<td>'+r.name+'</td>'
                 + '<td>'+r.phone+'</td>'
                 + '<td>'+formatRupiah(r.amount)+'</td>'
                 + '<td>' + (r.status==='sukses' ? '<span class="pill ok"><i class="fa-solid fa-check"></i> Sukses</span>' : '<span class="pill warn"><i class="fa-solid fa-clock"></i> Pending</span>') + '</td>';
    tbody.appendChild(tr);
  });

  // chart: aggregate total per day
  const agg = {};
  filtered.forEach(r=>{
    const day = r.datetime.slice(0,10); // YYYY-MM-DD
    agg[day] = (agg[day]||0) + r.amount;
  });
  renderChart(agg);

  // summary right panel
  const pelangganUnique = new Set(filtered.map(r=>r.phone)).size;
  document.getElementById('countPelanggan').textContent = pelangganUnique;
  const topDay = Object.keys(agg).sort((a,b)=>agg[b]-agg[a])[0] || '-';
  document.getElementById('topDay').textContent = topDay;
}

function renderChart(agg){
  const svg = document.getElementById('chart');
  // prepare data sorted by day
  const entries = Object.entries(agg).sort((a,b)=> new Date(a[0]) - new Date(b[0]));
  const values = entries.map(e=>e[1]);
  svg.innerHTML = '';
  if(values.length === 0){
    // placeholder
    svg.innerHTML = '<text x="50%" y="50%" text-anchor="middle" fill="#999">Tidak ada data untuk bulan ini</text>';
    return;
  }
  const max = Math.max(...values);
  const w = 800, h = 160, padLeft = 40, padRight = 10;
  const plotW = w - padLeft - padRight;
  const barWidth = Math.max(8, plotW / values.length - 6);
  // scale each bar
  entries.forEach((e,i)=>{
    const x = padLeft + i * (plotW / values.length) + 6;
    const height = Math.round((e[1] / max) * (h - 30));
    const y = (h - 10) - height;
    const rect = document.createElementNS('http://www.w3.org/2000/svg','rect');
    rect.setAttribute('x', x.toString());
    rect.setAttribute('y', y.toString());
    rect.setAttribute('width', barWidth.toString());
    rect.setAttribute('height', height.toString());
    rect.setAttribute('fill', '#5ca3ff');
    svg.appendChild(rect);
    // label
    const txt = document.createElementNS('http://www.w3.org/2000/svg','text');
    txt.setAttribute('x', (x + barWidth/2).toString());
    txt.setAttribute('y', (h - 0).toString());
    txt.setAttribute('font-size','10');
    txt.setAttribute('text-anchor','middle');
    txt.setAttribute('fill','#555');
    txt.textContent = e[0].slice(8); // day-of-month
    svg.appendChild(txt);
  });
}

function setStatusFilter(s){ statusFilter = s; const m = document.getElementById('monthPicker').value || defaultMonth(); renderForMonth(m); }

function defaultMonth(){
  // default to month of today
  const d = new Date();
  const mm = String(d.getMonth()+1).padStart(2,'0');
  return d.getFullYear() + '-' + mm;
}

/* export CSV */
function exportCSV(){
  const month = document.getElementById('monthPicker').value || defaultMonth();
  const rows = sampleData.filter(s => yyyyMM(s.datetime) === month && (statusFilter==='all' ? true : s.status === statusFilter));
  if(rows.length === 0){ alert('Tidak ada data untuk diekspor.'); return; }
  const header = ['id','datetime','name','phone','amount','status'];
  const csv = [header.join(',')].concat(rows.map(r => [r.id, '"'+r.datetime+'"','"'+r.name+'"','"'+r.phone+'"',r.amount,r.status].join(','))).join('\n');
  const blob = new Blob([csv], {type:'text/csv'});
  const url = URL.createObjectURL(blob);
  const a = document.createElement('a'); a.href = url; a.download = 'laporan-'+month+'.csv'; document.body.appendChild(a); a.click(); a.remove(); URL.revokeObjectURL(url);
}

/* init */
document.getElementById('btnExport').addEventListener('click', exportCSV);
document.getElementById('btnRefresh').addEventListener('click', ()=> {
  const m = document.getElementById('monthPicker').value || defaultMonth();
  renderForMonth(m);
});
document.getElementById('monthPicker').addEventListener('change', (e)=> renderForMonth(e.target.value));

// set default month and render
document.getElementById('monthPicker').value = defaultMonth();
renderForMonth(document.getElementById('monthPicker').value);
</script>
</body>
</html>



